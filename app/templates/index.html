<!-- templates/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>ì—°íƒë§¤ì¹˜ í™ˆ</title>
</head>
<body>
    <h1>ğŸš• ì—°íƒë§¤ì¹˜</h1>

    <h2>ğŸ“ ìƒˆ ìš”ì²­ ë“±ë¡</h2>
    <form method="post" action="/ride">
        <label for="departure">ì¶œë°œì§€:</label>
        <input type="text" id="departure" name="departure" required><br><br>

        <label for="destination">ë„ì°©ì§€:</label>
        <input type="text" id="destination" name="destination" required><br><br>

        <label for="departure_time">ì¶œë°œ ì‹œê°„:</label>
        <input type="datetime-local" id="departure_time" name="departure_time" required><br><br>

        <button type="submit">ë“±ë¡</button>
    </form>

    <hr>

    <h2>ğŸ“‹ ì „ì²´ ìš”ì²­ ëª©ë¡</h2>
    <div id="request-list">
        {% for ride in rides %}
        <div>
            <strong>{{ ride.departure }} â†’ {{ ride.destination }}</strong> (ì¶œë°œ: {{ ride.departure_time }})
            <form method="post" action="/match">
                <input type="hidden" name="receiver_request_id" value="{{ ride.id }}">
                <input type="text" name="proposed_place" placeholder="ì œì•ˆ ì¥ì†Œ" required>
                <input type="text" name="proposed_time" placeholder="ì œì•ˆ ì‹œê°„" required>
                <button type="submit">ì œì•ˆí•˜ê¸°</button>
            </form>
        </div>
        {% endfor %}
    </div>

    <hr>

    <h2>ğŸ“¨ ë°›ì€ ì œì•ˆ</h2>
    <div id="received-matches">
        {% for proposal in received_matches %}
        <div>
            <p>ğŸš— <strong>{{ proposal.proposed_place }}</strong>ì—ì„œ {{ proposal.proposed_time }} ì— ì œì•ˆ ë°›ìŒ</p>
            <form method="post" action="/match/{{ proposal.id }}/accept">
                <button type="submit">ìˆ˜ë½</button>
            </form>
            <form method="post" action="/match/{{ proposal.id }}/reject">
                <button type="submit">ê±°ì ˆ</button>
            </form>
        </div>
        {% endfor %}
    </div>

    <h2>ğŸ“¤ ë³´ë‚¸ ì œì•ˆ</h2>
    <div id="sent-matches">
        {% for proposal in sent_matches %}
        <div>
            <p>ğŸ“¨ {{ proposal.proposed_place }}ì—ì„œ {{ proposal.proposed_time }}ì— ë³´ëƒ„ (ìƒíƒœ: {{ proposal.status }})</p>
        </div>
        {% endfor %}
    </div>

    <p><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></p>
</body>
</html>


    <p><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></p>
</body>
</html>
